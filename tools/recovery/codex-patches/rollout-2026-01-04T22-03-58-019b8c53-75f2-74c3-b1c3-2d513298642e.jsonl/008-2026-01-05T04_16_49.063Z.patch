*** Begin Patch
*** Update File: apps/client/src/App.tsx
@@
   const [selectedId, setSelectedId] = useState<string | null>(null);
   const [moveOriginId, setMoveOriginId] = useState<string | null>(null);
   const [placementMode, setPlacementMode] = useState(false);
   const [powerupDraft, setPowerupDraft] = useState<PowerupKey | "">("");
+  const [pendingAllianceFromIds, setPendingAllianceFromIds] = useState<Record<string, boolean>>({});
   const [timer, setTimer] = useState(0);
   const [availableGames, setAvailableGames] = useState<GameListItem[]>([]);
   const lastSeenTurnRef = useRef<{ turn: number | null; phase: string | null }>({ turn: null, phase: null });
   const noticeTimeoutRef = useRef<number | null>(null);
*** End Patch